# BibleLexicalEditor

```mermaid
---
title: ScriptureData—Editor flow
---
graph TD
    A[(DB)] --> B([USFM])
    B --> A
    B --> C[Proskomma]
    C --> |Proskomma is only being used to convert USFM to PERF|P([PERF])
    P --> E
    E --> |Epitelete can export USFM but not import it|B
    F[Editor-PERF adapter] -- Transforms PERF --> G[Editor]
    G -- Transforms Editor Format --> F

    E[(epiteleteStore)]
    E -- Epitelete runs operations on PERF --> F
    F -- Epitelete runs operations on PERF --> E

```

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, a Smart, fast and extensible build system.](https://nx.dev)** ✨

## Generate code

If you happen to use Nx plugins, you can leverage code generators that might come with it.

Run `nx list` to get a list of available plugins and whether they have generators. Then run `nx list <plugin-name>` to see what generators are available.

Learn more about [Nx generators on the docs](https://nx.dev/plugin-features/use-code-generators).

## Running tasks

To execute tasks with Nx use the following syntax:

```
nx <target> <project> <...options>
```

You can also run multiple targets:

```
nx run-many -t <target1> <target2>
```

..or add `-p` to filter specific projects

```
nx run-many -t <target1> <target2> -p <proj1> <proj2>
```

Targets can be defined in the `package.json` or `projects.json`. Learn more [in the docs](https://nx.dev/core-features/run-tasks).

## Want better Editor Integration?

Have a look at the [Nx Console extensions](https://nx.dev/nx-console). It provides autocomplete support, a UI for exploring and running tasks & generators, and more! Available for VSCode, IntelliJ and comes with a LSP for Vim users.

## Ready to deploy?

Just run `nx build demoapp` to build the application. The build artifacts will be stored in the `dist/` directory, ready to be deployed.

## Set up CI!

Nx comes with local caching already built-in (check your `nx.json`). On CI you might want to go a step further.

- [Set up remote caching](https://nx.dev/core-features/share-your-cache)
- [Set up task distribution across multiple machines](https://nx.dev/core-features/distribute-task-execution)
- [Learn more how to setup CI](https://nx.dev/recipes/ci)

## Connect with us!

- [Join the community](https://nx.dev/community)
- [Subscribe to the Nx Youtube Channel](https://www.youtube.com/@nxdevtools)
- [Follow us on Twitter](https://twitter.com/nxdevtools)

## Testing

The unit tests run automatically on each GitHub PR (see [test.yml](https://github.com/abelpz/bible-lexical-editor/blob/main/.github/workflows/test.yml)).

To run all TS unit tests:

```bash
pnpm nx run-many -t test
```

To run all TS unit tests for a single package (in this example the **shared** package):

```bash
pnpm nx test shared
```

To run all TS unit tests watching for file changes:

- On Windows:
  ```bash
  pnpm nx watch --all -- pnpm nx test %NX_PROJECT_NAME%
  ```
- On Linux or macOS:
  ```bash
  pnpm nx watch --all -- pnpm nx test \$NX_PROJECT_NAME
  ```

You can also use the [recommended VS Code extensions](https://github.com/abelpz/bible-lexical-editor/blob/main/.vscode/extensions.json) to run tests there. This is particularly useful for running individual tests and debugging.

## Formatting and Linting

Formatting happens automatically when you commit. If you use VS Code with this repo's recommended extensions, files will be formatted when you save.

To check TypeScript for readability, maintainability, and functionality errors, and to check a few other files for proper formatting, run the following from the repo root (or just use VS Code with this repo's recommended extensions).

```bash
pnpm nx format:check # to check formatting
pnpm nx format:write # to fix formatting
pnpm nx run-many -t lint # to check linting
```
